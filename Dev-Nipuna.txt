mysql> CREATE DATABASE Student_Management;
Query OK, 1 row affected (0.447 sec)

mysql> use Student_Management;
Database changed
mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mydb               |
| mysql              |
| performance_schema |
| sakila             |
| student_management |
| sys                |
| world              |
+--------------------+
8 rows in set (0.040 sec)


///////////////////////////////////////////////////////////////////////////////



mysql> SHOW TABLES;
Empty set (0.058 sec)

mysql> CREATE USER 'admin'@'localhost' IDENTIFIED BY 'admin1234';
Query OK, 0 rows affected (0.431 sec)

mysql> CREATE USER 'dean'@'localhost' IDENTIFIED BY 'dean1234';
Query OK, 0 rows affected (0.241 sec)

mysql> CREATE USER 'lecturer'@'localhost' IDENTIFIED BY 'lecturer1234';
Query OK, 0 rows affected (0.270 sec)

mysql> CREATE USER 'student'@'localhost' IDENTIFIED BY 'student1234';
Query OK, 0 rows affected (0.133 sec)

mysql> CREATE USER 'to'@'localhost' IDENTIFIED BY 'to1234';
Query OK, 0 rows affected (0.301 sec)

mysql> GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost' WITH GRANT OPTION;
Query OK, 0 rows affected (0.260 sec)

mysql> GRANT ALL PRIVILEGES ON Student_Management.* TO 'dean'@'localhost';
Query OK, 0 rows affected (0.202 sec)

mysql> GRANT ALL PRIVILEGES ON Student_Management.* TO 'lecturer'@'localhost';
Query OK, 0 rows affected (0.108 sec)

mysql> GRANT SELECT, INSERT, UPDATE ON Student_Management.ATTENDENCE TO 'to'@'localhost';
ERROR 1146 (42S02): Table 'student_management.ATTENDENCE' doesn't exist
mysql> FLUSH PRIVILEGES;
Query OK, 0 rows affected, 1 warning (0.172 sec)


///////////////////////////////////////////////////////////////////////////////////////


mysql> CREATE TABLE USER_ROLE (
    ->     Role_Name VARCHAR(50) PRIMARY KEY,
    ->     Description TEXT
    -> );
Query OK, 0 rows affected (0.329 sec)

mysql> CREATE TABLE USER (U_Id VARCHAR(15) PRIMARY KEY, Fname VARCHAR(45), Lname VARCHAR(45), Email VARCHAR(45), Address VARCHAR(45), Gender VARCHAR(45), Dob DATE, Role VARCHAR(50), FOREIGN KEY (Role) REFERENCES USER_ROLE(Role_Name));
Query OK, 0 rows affected (0.945 sec)

mysql> CREATE TABLE STUDENT ( ST_Id VARCHAR(15) PRIMARY KEY, Registration_No VARCHAR(15) UNIQUE NOT NULL,Status ENUM('Proper', 'Repeat', 'Suspended') NOT NULL DEFAULT 'Proper', Year INT, Department VARCHAR(45), Batch INT DEFAULT 2024);
Query OK, 0 rows affected (0.655 sec)

mysql> CREATE TABLE COURSE_UNIT (Course_code INT PRIMARY KEY, Name VARCHAR(100),Type ENUM('Theory', 'Practical', 'Lab') NOT NULL, Credit INT NOT NULL, Lec_Name VARCHAR(45), Year INT, Semester VARCHAR(20), Department_Offering VARCHAR(50) DEFAULT 'ICT', Theory_Hours INT DEFAULT 15, Practical_Hours INT DEFAULT 15);
Query OK, 0 rows affected (0.637 sec)

mysql> CREATE TABLE ATTENDENCE ( Attend_Id VARCHAR(15) PRIMARY KEY, ST_Id VARCHAR(15) NOT NULL, Course_code INT NOT NULL, Date DATE NOT NULL, Time TIME, Session_Type ENUM('Theory', 'Practical') NOT NULL, Status ENUM('Present', 'Absent', 'Late') DEFAULT 'Present', Is_Medical_Day BOOLEAN DEFAULT FALSE, FOREIGN KEY (ST_Id) REFERENCES STUDENT(ST_Id), FOREIGN KEY (Course_code) REFERENCES COURSE_UNIT(Course_code));
Query OK, 0 rows affected (0.791 sec)



//////////////////////////////////////////////////////////////////////////////////////////////


mysql> SHOW TABLES;
+------------------------------+
| Tables_in_student_management |
+------------------------------+
| attendence                   |
| course_unit                  |
| student                      |
| user                         |
| user_role                    |
+------------------------------+
5 rows in set (0.109 sec)


mysql> INSERT INTO USER_ROLE VALUES
    -> ('Admin', 'Full access with GRANT OPTION'),
    -> ('Dean', 'Full access without GRANT'),
    -> ('Lecturer', 'Full access without user creation'),
    -> ('Technical Officer', 'Read/Write/Update attendance'),
    -> ('Student', 'Read-only access to own results');
Query OK, 5 rows affected (0.265 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql>
mysql> INSERT INTO USER (U_Id, Fname, Lname, Email, Address, Gender, Dob, Role) VALUES ('U001', 'Nimal', 'Perera', 'nimal.perera@ruhuna.lk', 'Galle Road, Colombo', 'M', '2001-03-12', 'Student'),('U002', 'Kamani', 'Fernando', 'kamani.fernando@ruhuna.lk', 'Kandy Road, Kadawatha', 'F', '2000-07-25', 'Student'),('U003', 'Ravi', 'Silva', 'ravi.silva@ruhuna.lk', 'Temple Road, Moratuwa', 'M', '1985-05-18', 'Lecturer'),('U004', 'Dilini', 'Wickramasinghe', 'dilini.w@ruhuna.lk', 'Rajagiriya, Colombo', 'F', '1982-11-30', 'Lecturer'),('U005', 'Tharindu', 'Jayasinghe', 'tharindu.j@ruhuna.lk', 'Nugegoda, Colombo', 'M', '2002-01-15', 'Student'),('U006', 'Anjali', 'Rajapaksa', 'anjali.r@ruhuna.lk', 'Matara Road, Galle', 'F', '2001-08-22', 'Student'),('U007', 'Chaminda', 'Weerasinghe', 'chaminda.w@ruhuna.lk', 'Kurunegala', 'M', '2000-04-10', 'Student'),('U008', 'Yasodha', 'Gunaratne', 'yasodha.g@ruhuna.lk', 'Jaffna', 'F', '1987-09-05', 'Lecturer'),('U009', 'Sahan', 'Bandara', 'sahan.b@ruhuna.lk', 'Galle Face, Colombo', 'M', '1980-02-14', 'Dean'),('U010', 'Nadeesha', 'Herath', 'nadeesha.h@ruhuna.lk', 'Nuwara Eliya', 'F', '2001-06-30', 'Student'),('U011', 'Amila', 'Rathnayake', 'amila.r@ruhuna.lk', 'Badulla', 'M', '1990-07-20', 'Technical Officer'),('U012', 'Lahiru', 'De Silva', 'lahiru.d@ruhuna.lk', 'Panadura', 'M', '1992-03-11', 'Technical Officer'),('U013', 'nipuna', 'deshan', 'nipuna@ruhuna.lk', 'Galle', 'M', '1975-01-01', 'Admin'),('U014', 'seelawathi', 'ganga', 'seelawathi.g@ruhuna.lk', 'galle', 'F', '1987-09-07', 'Lecturer');
Query OK, 14 rows affected (0.164 sec)
Records: 14  Duplicates: 0  Warnings: 0

mysql>